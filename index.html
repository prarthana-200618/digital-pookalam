<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    <title>Digital Pookalam</title>
    <style>
      html,body {
        margin:0;
        height:100%;
        background:#2f2f2f; /* floor background */
      }
      canvas {
        display:block;
        margin:auto;
      }
    </style>
  </head>
  <body>
    <script>
      function setup() {
        createCanvas(600, 600);
        angleMode(DEGREES);
        noLoop();
      }

      function draw() {
        background("#2f2f2f");
        translate(width/2, height/2);

        // Colors similar to the real pookalam
        let colors = ["#e63946", "#ffcc00", "#ff9933", "#006400", "#ffcc66", "#ff6699"];

        // Outer orange ring
        flowerRing(280, 320, "#ff6600");

        // Yellow star layer
        starLayer(8, 220, 280, "#ffcc00");

        // Green triangles inside star
        starLayer(8, 220, 280, "#004d00", true);

        // Inner red-yellow alternating
        alternatingPetals(12, 120, 220, "#e63946", "#fff176");

        // Pink center
        flowerCircle(0, 0, 120, "#ff6699");
      }

      // Draws a filled ring of flower-like dots
      function flowerRing(innerR, outerR, col) {
        noStroke();
        for (let r = innerR; r < outerR; r += 2) {
          for (let ang = 0; ang < 360; ang += 3) {
            let x = r * cos(ang) + random(-1,1);
            let y = r * sin(ang) + random(-1,1);
            fill(col);
            circle(x, y, 3);
          }
        }
      }

      // Star-shaped pattern (like triangles around circle)
      function starLayer(n, innerR, outerR, col, offset=false) {
        noStroke();
        let step = 360 / n;
        for (let i=0; i<n; i++) {
          let ang1 = i*step + (offset? step/2 : 0);
          let ang2 = ang1 + step/2;
          let x1 = innerR * cos(ang1);
          let y1 = innerR * sin(ang1);
          let x2 = innerR * cos(ang2);
          let y2 = innerR * sin(ang2);
          let x3 = outerR * cos(ang1 + step/4);
          let y3 = outerR * sin(ang1 + step/4);

          fill(col);
          beginShape();
          vertex(x1, y1);
          vertex(x2, y2);
          vertex(x3, y3);
          endShape(CLOSE);
        }
      }

      // Alternating colored petals
      function alternatingPetals(n, innerR, outerR, col1, col2) {
        let step = 360 / n;
        for (let i=0; i<n; i++) {
          let ang1 = i*step;
          let ang2 = ang1 + step;
          let c = (i%2==0)? col1 : col2;
          fill(c);
          beginShape();
          vertex(0,0);
          vertex(innerR*cos(ang1), innerR*sin(ang1));
          vertex(outerR*cos(ang2), outerR*sin(ang2));
          endShape(CLOSE);
        }
      }

      // Center flower circle
      function flowerCircle(x, y, r, col) {
        noStroke();
        for (let rad = 0; rad < r; rad += 2) {
          for (let ang = 0; ang < 360; ang += 6) {
            let px = x + rad * cos(ang) + random(-1,1);
            let py = y + rad * sin(ang) + random(-1,1);
            fill(col);
            circle(px, py, 3);
          }
        }
      }
    </script>
  </body>
</html>

